"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[587],{71305:function(e,n,r){var t=r(29439),i=r(47313);n.Z=function(e,n){var r=(0,i.useState)(n),s=(0,t.Z)(r,2),a=s[0],c=s[1],o=(0,i.useState)(),l=(0,t.Z)(o,2),d=l[0],u=l[1],h=e(a);return{inputValue:a,error:!h&&d,isValid:h,inputHandler:function(e){c(e.currentTarget.value)},blurHandler:function(e){u(!0)},clearInput:function(){c(n),u(!1)},setInput:function(e){c(e)}}}},25587:function(e,n,r){r.r(n),r.d(n,{default:function(){return K}});var t=r(93433),i=r(29439),s=r(47313),a=r(85554),c=r(33473),o=r(82937),l=r(42669),d=r(18104),u=r(34207),h=r(51515),Z=r(70633),f=r(24378),x=r(16157),p=r(29266),j=r(35553),v=r(48569),S=r(73477),g=r(82315),m=r(79433),z=r(67440),b=r(82138),_=r(71305),C=r(71924),w=r(14417),H=r(88208),B=r(46417),k=function(e){var n=(0,a.v9)((function(e){return e.auth.token})),r=(0,s.useState)(!1),t=(0,i.Z)(r,2),c=t[0],o=t[1],d=(0,s.useState)(!1),h=(0,i.Z)(d,2),f=h[0],k=h[1],y=(0,s.useState)(!1),A=(0,i.Z)(y,2),I=A[0],P=A[1],V=(0,s.useState)([]),D=(0,i.Z)(V,2),q=(D[0],D[1]),O=(0,_.Z)((function(e){return""!==e}),""),T=O.inputValue,W=O.error,N=O.isValid,E=O.inputHandler,L=O.blurHandler,R=O.clearInput,F=(0,_.Z)((function(e){return""!==e}),0),M=F.inputValue,Y=F.error,J=F.isValid,Q=F.inputHandler,U=F.blurHandler,X=F.clearInput,G=(0,_.Z)((function(e){return""!==e}),0),K=G.inputValue,$=G.error,ee=G.isValid,ne=G.inputHandler,re=G.blurHandler,te=G.clearInput;return(0,B.jsxs)("div",{children:[(0,B.jsxs)(C.Z,{children:[(0,B.jsx)(w.Z,{expandIcon:(0,B.jsx)(z.Z,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,B.jsx)(l.Z,{variant:"h5",children:"Add Size"})}),(0,B.jsxs)(H.Z,{className:Z.Z.addSize,children:[(0,B.jsxs)("div",{className:Z.Z.basicInputs,children:[(0,B.jsxs)(x.Z,{children:[(0,B.jsx)(p.Z,{children:"Size"}),(0,B.jsx)(j.Z,{sx:{mt:1},onChange:E,onBlur:L,value:T,fullWidth:!0,variant:"standard"}),W&&(0,B.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:"Size is required!"})]}),(0,B.jsxs)(x.Z,{children:[(0,B.jsx)(p.Z,{children:"Trial Price"}),(0,B.jsx)(j.Z,{sx:{mt:1},onChange:Q,onBlur:U,value:M,fullWidth:!0,variant:"standard",type:"number"}),Y&&(0,B.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:"Trial price is required!"})]}),(0,B.jsxs)(x.Z,{children:[(0,B.jsx)(p.Z,{children:"Subcription Price"}),(0,B.jsx)(j.Z,{sx:{mt:1},onChange:ne,onBlur:re,value:K,fullWidth:!0,variant:"standard",type:"number"}),$&&(0,B.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:"Subcription price is required!"})]})]}),(0,B.jsx)(S.Z,{variant:"contained",startIcon:(0,B.jsx)(b.Z,{}),color:"success",disabled:!(N&&J&&ee),onClick:function(){o(!0),fetch("/size/create-size",{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify({size:T,trial:M,subs:K})}).then((function(e){return e.json()})).then((function(n){if(!n.success)return k(!0),o(!1);e.pushBreads(n.payload),R(),X(),te(),q([]),P(!0),o(!1)})).catch((function(e){return k(!0),o(!1)}))},className:Z.Z.sizeBtn,children:c?(0,B.jsx)(u.Z,{size:25,color:"inherit"}):"Add"})]})]}),(0,B.jsx)(g.Z,{open:I,onClose:function(){return P(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,B.jsx)(m.Z,{variant:"filled",severity:"success",children:"Successfully Created!"})},"snackbar"),(0,B.jsx)(g.Z,{open:f,onClose:function(){return k(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,B.jsx)(m.Z,{variant:"filled",severity:"error",children:"An error occcured!"})},"1")]})},y=r(63988),A=r(53805),I=r(37982),P=r(90495),V=r(61359),D=r(39874),q=r(89791),O=r(59629),T=r(99780),W=r(32415),N=r(40765),E=r(12019),L=r(47515),R=r(59017),F=r(34940),M=r(13656),Y=function(e){var n=(0,a.v9)((function(e){return e.auth.token})),r=(0,s.useState)(!1),t=(0,i.Z)(r,2),c=(t[0],t[1],(0,s.useState)(!1)),l=(0,i.Z)(c,2),u=l[0],h=l[1],f=(0,s.useState)(!1),x=(0,i.Z)(f,2),p=x[0],v=x[1],S=(0,s.useState)(0),z=(0,i.Z)(S,2),b=z[0],_=z[1],C=(0,s.useState)(10),w=(0,i.Z)(C,2),H=w[0],k=w[1];return(0,B.jsxs)(s.Fragment,{children:[(0,B.jsxs)(W.Z,{children:[(0,B.jsx)("div",{className:Z.Z.searchDiv,children:(0,B.jsx)(j.Z,{variant:"standard",startAdornment:(0,B.jsxs)(R.Z,{position:"start",children:[(0,B.jsx)(N.Z,{})," "]}),type:"text",value:e.search,onChange:function(n){return e.setSearch(n.target.value)}})}),(0,B.jsx)(F.Z,{}),(0,B.jsxs)(o.ZP,{item:!0,xs:12,sx:{mx:1},children:[(0,B.jsx)(D.Z,{children:(0,B.jsxs)(y.Z,{size:"small",children:[(0,B.jsx)(P.Z,{children:(0,B.jsxs)(O.Z,{children:[(0,B.jsx)(I.Z,{children:(0,B.jsx)(T.Z,{active:"createdAt"===e.field,onClick:function(){return e.requestSort("createdAt",!e.asc)},children:"Date"})}),(0,B.jsx)(I.Z,{children:(0,B.jsx)(T.Z,{active:"size"===e.field,onClick:function(){return e.requestSort("size",!e.asc)},children:"Size"})}),(0,B.jsx)(I.Z,{children:(0,B.jsx)(T.Z,{active:"price.trial"===e.field,onClick:function(){return e.requestSort("price.trial",!e.asc)},children:"Trial"})}),(0,B.jsx)(I.Z,{children:(0,B.jsx)(T.Z,{active:"subs.trial"===e.field,onClick:function(){return e.requestSort("subs.trial",!e.asc)},children:"Subs"})}),(0,B.jsx)(I.Z,{}),(0,B.jsx)(I.Z,{}),(0,B.jsx)(I.Z,{})]})}),(0,B.jsx)(A.Z,{children:e.list.slice(b*H,b*H+H).map((function(r,t){return(0,B.jsxs)(O.Z,{children:[(0,B.jsx)(I.Z,{children:new Date(r.createdAt).toLocaleDateString()}),(0,B.jsx)(I.Z,{children:r.size}),(0,B.jsx)(I.Z,{children:r.price.trial}),(0,B.jsx)(I.Z,{children:r.price.subscription}),(0,B.jsx)(I.Z,{width:"30px",children:(0,B.jsx)(d.Z,{color:"success",onClick:function(){return e.editData(r)},children:(0,B.jsx)(E.Z,{})})}),(0,B.jsx)(I.Z,{width:"30px",children:(0,B.jsx)(d.Z,{color:"error",onClick:function(){return t=r._id,void fetch("/size/delete/"+t,{headers:{Authorization:"Bearer "+n}}).then((function(e){return e.json()})).then((function(n){n.success||h(!0),e.removeBread(t),v(!0)})).catch((function(e){h(!0)}));var t},children:(0,B.jsx)(L.Z,{})})}),(0,B.jsx)(I.Z,{children:(0,B.jsx)(M.Z,{checked:r.isActive,onChange:function(){return t=r._id,i=r.isActive,void fetch("/size/switch/"+t+"?value="+!i,{headers:{Authorization:"Bearer "+n}}).then((function(e){return e.json()})).then((function(n){n.success||h(!0),e.switchBread(n.payload),v(!0)})).catch((function(e){h(!0)}));var t,i}})})]},r._id)}))}),(0,B.jsx)(q.Z,{})]})}),(0,B.jsx)(V.Z,{rowsPerPageOptions:[10,20,30,40,50],component:"div",count:e.list.length,rowsPerPage:H,page:b,onPageChange:function(e,n){_(n)},onRowsPerPageChange:function(e){k(+e.target.value),_(0)}})]})]}),(0,B.jsx)(g.Z,{open:p,onClose:function(){return v(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,B.jsx)(m.Z,{variant:"filled",severity:"success",children:"The operation was successfull!"})},"snackbar1"),(0,B.jsx)(g.Z,{open:u,onClose:function(){return h(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,B.jsx)(m.Z,{variant:"filled",severity:"error",children:"An error occured!"})},"snackbar")]})},J=(r(10688),r(92350)),Q=r(2517),U=r(5448),X=r(71235),G=function(e){var n=(0,a.v9)((function(e){return e.auth.token})),r=(0,s.useState)(!1),t=(0,i.Z)(r,2),c=t[0],o=t[1],l=(0,s.useState)(!1),d=(0,i.Z)(l,2),h=d[0],f=d[1],z=(0,s.useState)(!1),b=(0,i.Z)(z,2),C=b[0],w=b[1],H=(0,s.useState)([]),k=(0,i.Z)(H,2),y=(k[0],k[1],(0,_.Z)((function(e){return""!==e}),"")),A=y.inputValue,I=y.error,P=y.isValid,V=y.inputHandler,D=y.blurHandler,q=(y.clearInput,y.setInput),O=(0,_.Z)((function(e){return""!==e}),0),T=O.inputValue,W=O.error,N=O.isValid,E=O.inputHandler,L=O.blurHandler,R=(O.clearInput,O.setInput),F=(0,_.Z)((function(e){return""!==e}),0),M=F.inputValue,Y=F.error,G=F.isValid,K=F.inputHandler,$=F.blurHandler,ee=(F.clearInput,F.setInput);(0,s.useEffect)((function(){null!==e.data&&(q(e.data.size),R(e.data.price.trial),ee(e.data.price.subscription))}),[e.data]);return(0,B.jsxs)(s.Fragment,{children:[(0,B.jsxs)(Q.Z,{open:e.open,onClose:e.handleClose,fullWidth:!0,maxWidth:"xs",children:[(0,B.jsx)(U.Z,{children:"Edit details"}),(0,B.jsx)(X.Z,{children:(0,B.jsxs)("div",{className:Z.Z.addSize,children:[(0,B.jsxs)("div",{className:Z.Z.basicInputs,children:[(0,B.jsxs)(x.Z,{children:[(0,B.jsx)(p.Z,{children:"Size"}),(0,B.jsx)(j.Z,{sx:{mt:1},onChange:V,onBlur:D,value:A,fullWidth:!0,variant:"standard"}),I&&(0,B.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:"Size is required!"})]}),(0,B.jsxs)(x.Z,{children:[(0,B.jsx)(p.Z,{children:"Trial Price"}),(0,B.jsx)(j.Z,{sx:{mt:1},onChange:E,onBlur:L,value:T,fullWidth:!0,variant:"standard",type:"number"}),W&&(0,B.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:"Trial price is required!"})]}),(0,B.jsxs)(x.Z,{children:[(0,B.jsx)(p.Z,{children:"Subcription Price"}),(0,B.jsx)(j.Z,{sx:{mt:1},onChange:K,onBlur:$,value:M,fullWidth:!0,variant:"standard",type:"number"}),Y&&(0,B.jsx)(v.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:"Subcription price is required!"})]})]}),(0,B.jsx)(S.Z,{variant:"contained",startIcon:(0,B.jsx)(J.Z,{}),color:"success",disabled:!(P&&N&&G),onClick:function(){o(!0),fetch("/size/edit/"+e.data._id,{method:"POST",headers:{Authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify({size:A,trial:T,subs:M})}).then((function(e){return e.json()})).then((function(n){if(!n.success)return f(!0),o(!1);e.switchBread(n.payload),w(!0),o(!1),e.handleClose()})).catch((function(e){return f(!0),o(!1)}))},className:Z.Z.sizeBtn,children:c?(0,B.jsx)(u.Z,{size:25,color:"inherit"}):"Save"})]})})]}),(0,B.jsx)(g.Z,{open:C,onClose:function(){return w(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,B.jsx)(m.Z,{variant:"filled",severity:"success",children:"The operation was successfull!"})},"snackbar"),(0,B.jsx)(g.Z,{open:h,onClose:function(){return f(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,B.jsx)(m.Z,{variant:"filled",severity:"error",children:"An error occcured!"})},"1")]})},K=function(){var e=(0,a.v9)((function(e){return e.auth.token})),n=(0,a.v9)((function(e){return e.tour.breadSizes})),r=(0,s.useState)([]),x=(0,i.Z)(r,2),p=x[0],j=x[1],v=(0,s.useState)(!1),S=(0,i.Z)(v,2),g=S[0],m=S[1],z=(0,s.useState)(!1),b=(0,i.Z)(z,2),_=(b[0],b[1]),C=(0,s.useState)(!1),w=(0,i.Z)(C,2),H=(w[0],w[1],(0,s.useState)("")),y=(0,i.Z)(H,2),A=y[0],I=y[1],P=(0,s.useState)(!1),V=(0,i.Z)(P,2),D=V[0],q=V[1],O=(0,s.useState)(null),T=(0,i.Z)(O,2),W=T[0],N=T[1],E=(0,s.useState)({field:"_id",asc:!0}),L=(0,i.Z)(E,2),R=L[0],F=L[1];(0,s.useEffect)((function(){0===n.length?M():j(n)}),[]),(0,s.useEffect)((function(){if(n.length>0){var e,r=(0,t.Z)(n),i=new RegExp(A,"i");""!==A&&(r=r.filter((function(e){return i.test(e.size)||i.test(e.price)}))),e="size"===R.field?r.sort((function(e,n){var r=e[R.field].toLowerCase(),t=n[R.field].toLowerCase();return r<t?-1:r>t?1:0})):"createdAt"===R.field?r.sort((function(e,n){return new Date(e.createdAt)-new Date(n.createdAt)})):r.sort((function(e,n){return e[R.field]-n[R.field]})),j(R.asc?e:e.reverse())}}),[R,n,A]);var M=function(){m(!0),_(!1),fetch("/size/get-sizes",{headers:{Authorization:"Bearer "+e}}).then((function(e){return e.json()})).then((function(e){if(!e.success)return m(!1),_(!0);(0,f.W)(c.d.setSizes(e.payload)),j(e.payload),m(!1)})).catch((function(e){return m(!1),_(!0)}))},J=function(e){var r=(0,t.Z)(n),i=r.findIndex((function(n){return n._id.toString()===e._id.toString()}));i>=0&&(r[i]=e,(0,f.W)(c.d.setSizes(r)))};return(0,B.jsxs)(s.Fragment,{children:[(0,B.jsxs)(o.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,B.jsx)(o.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,B.jsxs)("div",{className:Z.Z.listsHead,children:[(0,B.jsx)(l.Z,{variant:"h4",children:"Size & Prices"}),(0,B.jsx)(d.Z,{sx:{color:"success.main",bgcolor:"success.lighter"},onClick:M,children:(0,B.jsx)(h.Z,{})})]})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sx:{mb:-2.25,mt:5},children:(0,B.jsx)(k,{pushBreads:function(e){var r=[].concat((0,t.Z)(n),[e]);(0,f.W)(c.d.setSizes(r))}})}),(0,B.jsx)(o.ZP,{item:!0,xs:12,sx:{mb:-2.25,mt:2},children:g?(0,B.jsx)(u.Z,{color:"inherit"}):n.length>0&&(0,B.jsx)(Y,{requestSort:function(e,n){F({field:e,asc:n})},asc:R.asc,field:R.field,list:p,removeBread:function(e){var r=n.filter((function(n){return n._id.toString()!==e.toString()}));(0,f.W)(c.d.setSizes(r))},switchBread:J,search:A,setSearch:I,editData:function(e){N(e),q(!0)}})})]}),null!==W&&(0,B.jsx)(G,{open:D,handleClose:function(){return q(!1)},data:W,switchBread:J})]})}},92350:function(e,n,r){r.d(n,{Z:function(){return o}});var t=r(1413),i=r(47313),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},a=r(60810),c=function(e,n){return i.createElement(a.Z,(0,t.Z)((0,t.Z)({},e),{},{ref:n,icon:s}))};c.displayName="SaveOutlined";var o=i.forwardRef(c)},70633:function(e,n){n.Z={listsHead:"pincodes_listsHead__+nl4a",addArea:"pincodes_addArea__YE0uc",stackInput:"pincodes_stackInput__zlTqi",searchDiv:"pincodes_searchDiv__OUxLq",basicInputs:"pincodes_basicInputs__rWuLD",addSize:"pincodes_addSize__E8Ygf",sizeBtn:"pincodes_sizeBtn__QrIRX",addressHolder:"pincodes_addressHolder__H5Ao2",address:"pincodes_address__QquYj",infoDiv:"pincodes_infoDiv__BNbPP",straight:"pincodes_straight__mjndl"}}}]);