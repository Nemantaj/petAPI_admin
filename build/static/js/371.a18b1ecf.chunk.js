"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[371],{1955:function(e,n,t){var r=t(62111),s=t(16157),i=t(46417);n.Z=function(e){var n,t=e.color,a=e.size,c=(0,r.Z)();switch(t){case"secondary":n=c.palette.secondary.main;break;case"error":n=c.palette.error.main;break;case"warning":n=c.palette.warning.main;break;case"info":n=c.palette.info.main;break;case"success":n=c.palette.success.main;break;default:n=c.palette.primary.main}return(0,i.jsx)(s.Z,{sx:{width:a||8,height:a||8,borderRadius:"50%",bgcolor:n}})}},37371:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var r=t(93433),s=t(29439),i=t(47313),a=t(85554),c=t(33473),o=t(82937),d=t(42669),l=t(18104),u=t(34207),h=t(51515),f=t(70633),Z=t(24378),x=t(63988),p=t(53805),_=t(37982),j=t(90495),m=t(61359),g=t(39874),v=t(89791),b=t(59629),S=t(99780),k=t(32415),w=t(40765),P=t(2135),y=t(35553),z=t(59017),C=t(34940),A=t(73477),D=t(82315),O=t(79433),H=(t(1955),t(46417)),q=function(e){(0,a.v9)((function(e){return e.auth.token}));var n=(0,i.useState)(!1),t=(0,s.Z)(n,2),r=(t[0],t[1],(0,i.useState)(!1)),c=(0,s.Z)(r,2),d=c[0],l=c[1],u=(0,i.useState)(!1),h=(0,s.Z)(u,2),Z=h[0],q=h[1],E=(0,i.useState)(0),R=(0,s.Z)(E,2),B=R[0],I=R[1],N=(0,i.useState)(10),T=(0,s.Z)(N,2),Y=T[0],F=T[1];return(0,H.jsxs)(i.Fragment,{children:[(0,H.jsxs)(k.Z,{children:[(0,H.jsx)("div",{className:f.Z.searchDiv,children:(0,H.jsx)(y.Z,{variant:"standard",startAdornment:(0,H.jsxs)(z.Z,{position:"start",children:[(0,H.jsx)(w.Z,{})," "]}),type:"text",value:e.search,onChange:function(n){return e.setSearch(n.target.value)}})}),(0,H.jsx)(C.Z,{}),(0,H.jsxs)(o.ZP,{item:!0,xs:12,sx:{mx:1},children:[(0,H.jsx)(g.Z,{children:(0,H.jsxs)(x.Z,{size:"small",children:[(0,H.jsx)(j.Z,{children:(0,H.jsxs)(b.Z,{children:[(0,H.jsx)(_.Z,{children:(0,H.jsx)(S.Z,{active:"_id"===e.field,onClick:function(){return e.requestSort("_id",!e.asc)},children:"Pincode"})}),(0,H.jsx)(_.Z,{children:(0,H.jsx)(S.Z,{active:"orders"===e.field,onClick:function(){return e.requestSort("orders",!e.asc)},children:"Total Orders"})}),(0,H.jsx)(_.Z,{})]})}),(0,H.jsx)(p.Z,{children:e.list.slice(B*Y,B*Y+Y).map((function(e,n){return(0,H.jsxs)(b.Z,{children:[(0,H.jsx)(_.Z,{children:e._id}),(0,H.jsx)(_.Z,{children:e.orders.length}),(0,H.jsx)(_.Z,{width:"30px",children:(0,H.jsx)(P.rU,{to:"/orders/details",state:{items:e},children:(0,H.jsx)(A.Z,{variant:"contained",children:"Details"})})})]},e._id)}))}),(0,H.jsx)(v.Z,{})]})}),(0,H.jsx)(m.Z,{rowsPerPageOptions:[10,20,30,40,50],component:"div",count:e.list.length,rowsPerPage:Y,page:B,onPageChange:function(e,n){I(n)},onRowsPerPageChange:function(e){F(+e.target.value),I(0)}})]})]}),(0,H.jsx)(D.Z,{open:Z,onClose:function(){return q(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,H.jsx)(O.Z,{variant:"filled",severity:"success",children:"The operation was successfull!"})},"snackbar1"),(0,H.jsx)(D.Z,{open:d,onClose:function(){return l(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,H.jsx)(O.Z,{variant:"filled",severity:"error",children:"An error occured!"})},"snackbar")]})},E=function(){var e=(0,a.v9)((function(e){return e.auth.token})),n=(0,a.v9)((function(e){return e.tour.pincodeOrders})),t=(0,i.useState)([]),x=(0,s.Z)(t,2),p=x[0],_=x[1],j=(0,i.useState)(!1),m=(0,s.Z)(j,2),g=m[0],v=m[1],b=(0,i.useState)(!1),S=(0,s.Z)(b,2),k=(S[0],S[1]),w=(0,i.useState)(!1),P=(0,s.Z)(w,2),y=(P[0],P[1],(0,i.useState)("")),z=(0,s.Z)(y,2),C=z[0],A=z[1],D=(0,i.useState)(!1),O=(0,s.Z)(D,2),E=(O[0],O[1],(0,i.useState)(null)),R=(0,s.Z)(E,2),B=(R[0],R[1],(0,i.useState)({field:"_id",asc:!0})),I=(0,s.Z)(B,2),N=I[0],T=I[1];(0,i.useEffect)((function(){0===n.length?Y():_(n)}),[]),(0,i.useEffect)((function(){if(n.length>0){var e,t=(0,r.Z)(n),s=new RegExp(C,"i");""!==C&&(t=t.filter((function(e){return s.test(e._id)}))),e="orders"===N.field?t.sort((function(e,n){return e.orders.length-n.orders.length})):t.sort((function(e,n){return e[N.field]-n[N.field]})),_(N.asc?e:e.reverse())}}),[N,n,C]);var Y=function(){v(!0),k(!1),fetch("/breed/orders-by-pincode",{headers:{Authorization:"Bearer "+e}}).then((function(e){return e.json()})).then((function(e){if(!e.success)return v(!1),k(!0);console.log(e.payload),(0,Z.W)(c.d.setPincodeOrders(e.payload)),_(e.payload),v(!1)})).catch((function(e){return v(!1),k(!0)}))};return(0,H.jsx)(i.Fragment,{children:(0,H.jsxs)(o.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,H.jsx)(o.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,H.jsxs)("div",{className:f.Z.listsHead,children:[(0,H.jsx)(d.Z,{variant:"h4",children:"All Orders"}),(0,H.jsx)(l.Z,{sx:{color:"success.main",bgcolor:"success.lighter"},onClick:Y,children:(0,H.jsx)(h.Z,{})})]})}),(0,H.jsx)(o.ZP,{item:!0,xs:12,sx:{mb:-2.25,mt:2},children:g?(0,H.jsx)(u.Z,{color:"inherit"}):n.length>0&&(0,H.jsx)(q,{requestSort:function(e,n){T({field:e,asc:n})},asc:N.asc,field:N.field,list:p,search:C,setSearch:A})})]})})}},51515:function(e,n,t){t.d(n,{Z:function(){return o}});var r=t(1413),s=t(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},a=t(60810),c=function(e,n){return s.createElement(a.Z,(0,r.Z)((0,r.Z)({},e),{},{ref:n,icon:i}))};c.displayName="ReloadOutlined";var o=s.forwardRef(c)},70633:function(e,n){n.Z={listsHead:"pincodes_listsHead__+nl4a",addArea:"pincodes_addArea__YE0uc",stackInput:"pincodes_stackInput__zlTqi",searchDiv:"pincodes_searchDiv__OUxLq",basicInputs:"pincodes_basicInputs__rWuLD",addSize:"pincodes_addSize__E8Ygf",sizeBtn:"pincodes_sizeBtn__QrIRX",addressHolder:"pincodes_addressHolder__H5Ao2",address:"pincodes_address__QquYj",infoDiv:"pincodes_infoDiv__BNbPP",straight:"pincodes_straight__mjndl"}}}]);