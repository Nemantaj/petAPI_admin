"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[850],{2e4:function(e,t,r){r.r(t);var n=r(93433),a=r(29439),s=r(47313),i=r(85554),c=r(33473),o=r(82937),l=r(42669),u=r(18104),d=r(34207),f=r(51515),h=r(70633),m=r(24378),Z=r(68963),x=r(53931),_=r(46417);t.default=function(){var e=(0,i.v9)((function(e){return e.auth.token})),t=(0,i.v9)((function(e){return e.tour.orders})),r=(0,s.useState)([]),v=(0,a.Z)(r,2),g=v[0],p=v[1],j=(0,s.useState)(!1),S=(0,a.Z)(j,2),w=S[0],D=S[1],b=(0,s.useState)(!1),C=(0,a.Z)(b,2),k=(C[0],C[1]),A=(0,s.useState)(!1),E=(0,a.Z)(A,2),y=(E[0],E[1],(0,s.useState)("")),O=(0,a.Z)(y,2),P=O[0],R=O[1],z=(0,s.useState)(!1),B=(0,a.Z)(z,2),L=B[0],N=B[1],q=(0,s.useState)(null),F=(0,a.Z)(q,2),H=F[0],M=F[1],W=(0,s.useState)({field:"order_id",asc:!0}),G=(0,a.Z)(W,2),I=G[0],J=G[1];(0,s.useEffect)((function(){0===t.length?K():p(t)}),[]),(0,s.useEffect)((function(){if(t.length>0){var e,r=(0,n.Z)(t),a=new RegExp(P,"i");""!==P&&(r=r.filter((function(e){return a.test(e.orderDetails.order_id)||a.test(e.orderDetails.customer_details.customer_name)}))),e="orderDetails.customer_details.customer_name"===I.field||"orderDetails.order_note"===I.field?r.sort((function(e,t){var r=e[I.field].toLowerCase(),n=t[I.field].toLowerCase();return r<n?-1:r>n?1:0})):"orderDetails.created_at"===I.field?r.sort((function(e,t){return new Date(e.orderDetails.created_at)-new Date(t.orderDetails.created_at)})):r.sort((function(e,t){return e[I.field]-t[I.field]})),p(I.asc?e:e.reverse())}}),[I,t,P]);var K=function(){D(!0),k(!1),fetch("/breed/get-orders",{headers:{Authorization:"Bearer "+e}}).then((function(e){return e.json()})).then((function(e){if(!e.success)return D(!1),k(!0);(0,m.W)(c.d.setOrders(e.payload)),p(e.payload),D(!1)})).catch((function(e){return D(!1),k(!0)}))};return(0,_.jsxs)(s.Fragment,{children:[(0,_.jsxs)(o.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,_.jsx)(o.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,_.jsxs)("div",{className:h.Z.listsHead,children:[(0,_.jsx)(l.Z,{variant:"h4",children:"All Orders"}),(0,_.jsx)(u.Z,{sx:{color:"success.main",bgcolor:"success.lighter"},onClick:K,children:(0,_.jsx)(f.Z,{})})]})}),(0,_.jsx)(o.ZP,{item:!0,xs:12,sx:{mb:-2.25,mt:2},children:w?(0,_.jsx)(d.Z,{color:"inherit"}):t.length>0&&(0,_.jsx)(Z.Z,{requestSort:function(e,t){J({field:e,asc:t})},asc:I.asc,field:I.field,list:g,search:P,setSearch:R,editData:function(e){M(e),N(!0)}})})]}),null!==H&&(0,_.jsx)(x.Z,{open:L,handleClose:function(){return N(!1)},data:H})]})}},51515:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(1413),a=r(47313),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},i=r(60810),c=function(e,t){return a.createElement(i.Z,(0,n.Z)((0,n.Z)({},e),{},{ref:t,icon:s}))};c.displayName="ReloadOutlined";var o=a.forwardRef(c)}}]);