"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[278],{71305:function(e,n,t){var s=t(29439),r=t(47313);n.Z=function(e,n){var t=(0,r.useState)(n),i=(0,s.Z)(t,2),a=i[0],c=i[1],l=(0,r.useState)(),o=(0,s.Z)(l,2),u=o[0],d=o[1],f=e(a);return{inputValue:a,error:!f&&u,isValid:f,inputHandler:function(e){c(e.currentTarget.value)},blurHandler:function(e){d(!0)},clearInput:function(){c(n),d(!1)},setInput:function(e){c(e)}}}},94278:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var s=t(93433),r=t(29439),i=t(47313),a=t(85554),c=t(33473),l=t(82937),o=t(42669),u=t(18104),d=t(34207),f=t(51515),h=t(70633),Z=t(24378),x=t(63988),j=t(53805),m=t(37982),p=t(90495),v=t(61359),_=t(39874),g=t(89791),S=t(59629),b=t(99780),C=t(32415),w=t(40765),k=t(30055),N=t(35553),P=t(59017),z=t(34940),A=t(82315),D=t(79433),H=t(46417),q=function(e){(0,a.v9)((function(e){return e.auth.token}));var n=(0,i.useState)(!1),t=(0,r.Z)(n,2),s=(t[0],t[1],(0,i.useState)(!1)),c=(0,r.Z)(s,2),o=c[0],d=c[1],f=(0,i.useState)(!1),Z=(0,r.Z)(f,2),q=Z[0],E=Z[1],I=(0,i.useState)(0),y=(0,r.Z)(I,2),O=y[0],B=y[1],R=(0,i.useState)(10),L=(0,r.Z)(R,2),T=L[0],W=L[1];return(0,H.jsxs)(i.Fragment,{children:[(0,H.jsxs)(C.Z,{children:[(0,H.jsx)("div",{className:h.Z.searchDiv,children:(0,H.jsx)(N.Z,{variant:"standard",startAdornment:(0,H.jsxs)(P.Z,{position:"start",children:[(0,H.jsx)(w.Z,{})," "]}),type:"text",value:e.search,onChange:function(n){return e.setSearch(n.target.value)}})}),(0,H.jsx)(z.Z,{}),(0,H.jsxs)(l.ZP,{item:!0,xs:12,sx:{mx:1},children:[(0,H.jsx)(_.Z,{children:(0,H.jsxs)(x.Z,{size:"small",children:[(0,H.jsx)(p.Z,{children:(0,H.jsxs)(S.Z,{children:[(0,H.jsx)(m.Z,{children:(0,H.jsx)(b.Z,{active:"fullName"===e.field,onClick:function(){return e.requestSort("fullName",!e.asc)},children:"Name"})}),(0,H.jsx)(m.Z,{children:(0,H.jsx)(b.Z,{active:"email"===e.field,onClick:function(){return e.requestSort("email",!e.asc)},children:"Email"})}),(0,H.jsx)(m.Z,{children:(0,H.jsx)(b.Z,{active:"mobile"===e.field,onClick:function(){return e.requestSort("mobile",!e.asc)},children:"Mobile"})}),(0,H.jsx)(m.Z,{children:(0,H.jsx)(b.Z,{active:"pincode"===e.field,onClick:function(){return e.requestSort("pincode",!e.asc)},children:"Pincode"})}),(0,H.jsx)(m.Z,{children:"Orders"}),(0,H.jsx)(m.Z,{})]})}),(0,H.jsx)(j.Z,{children:e.list.slice(O*T,O*T+T).map((function(n,t){return(0,H.jsxs)(S.Z,{children:[(0,H.jsx)(m.Z,{children:n.fullName}),(0,H.jsx)(m.Z,{children:n.email}),(0,H.jsx)(m.Z,{children:n.mobile}),(0,H.jsx)(m.Z,{children:n.pincode}),(0,H.jsx)(m.Z,{children:n.orders.length}),(0,H.jsx)(m.Z,{width:"30px",children:(0,H.jsx)(u.Z,{color:"success",onClick:function(){return e.viewData(n)},children:(0,H.jsx)(k.Z,{})})})]},n._id)}))}),(0,H.jsx)(g.Z,{})]})}),(0,H.jsx)(v.Z,{rowsPerPageOptions:[10,20,30,40,50],component:"div",count:e.list.length,rowsPerPage:T,page:O,onPageChange:function(e,n){B(n)},onRowsPerPageChange:function(e){W(+e.target.value),B(0)}})]})]}),(0,H.jsx)(A.Z,{open:q,onClose:function(){return E(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,H.jsx)(D.Z,{variant:"filled",severity:"success",children:"The operation was successfull!"})},"snackbar1"),(0,H.jsx)(A.Z,{open:o,onClose:function(){return d(!1)},anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,children:(0,H.jsx)(D.Z,{variant:"filled",severity:"error",children:"An error occured!"})},"snackbar")]})},E=(t(71305),t(10688),t(2517)),I=t(5448),y=t(71235),O=t(75958),B=function(e){(0,a.v9)((function(e){return e.auth.token}));var n=(0,i.useState)(!1),t=(0,r.Z)(n,2),s=(t[0],t[1],(0,i.useState)(!1)),c=(0,r.Z)(s,2),l=(c[0],c[1],(0,i.useState)(!1)),u=(0,r.Z)(l,2),d=(u[0],u[1],(0,i.useState)([])),f=(0,r.Z)(d,2);f[0],f[1];return(0,H.jsx)(i.Fragment,{children:(0,H.jsxs)(E.Z,{open:e.open,onClose:e.handleClose,fullWidth:!0,maxWidth:"xs",children:[(0,H.jsx)(I.Z,{children:e.data.email}),(0,H.jsx)(z.Z,{}),(0,H.jsxs)(y.Z,{children:[(0,H.jsx)(o.Z,{variant:"h4",children:"Address"}),(0,H.jsx)(z.Z,{}),e.data.address.map((function(n){return(0,H.jsxs)(C.Z,{className:h.Z.address,sx:{p:"10px",boxShadow:3,marginTop:"20px"},children:[(0,H.jsx)(O.Z,{label:e.data.pincode}),(0,H.jsx)(o.Z,{sx:{mt:"10px"},children:n.address})]},n._id)}))]})]})})},R=function(){var e=(0,a.v9)((function(e){return e.auth.token})),n=(0,a.v9)((function(e){return e.tour.users})),t=(0,i.useState)([]),x=(0,r.Z)(t,2),j=x[0],m=x[1],p=(0,i.useState)(!1),v=(0,r.Z)(p,2),_=v[0],g=v[1],S=(0,i.useState)(!1),b=(0,r.Z)(S,2),C=(b[0],b[1]),w=(0,i.useState)(!1),k=(0,r.Z)(w,2),N=(k[0],k[1],(0,i.useState)("")),P=(0,r.Z)(N,2),z=P[0],A=P[1],D=(0,i.useState)(!1),E=(0,r.Z)(D,2),I=E[0],y=E[1],O=(0,i.useState)(null),R=(0,r.Z)(O,2),L=R[0],T=R[1],W=(0,i.useState)({field:"fullName",asc:!0}),F=(0,r.Z)(W,2),M=F[0],U=F[1];(0,i.useEffect)((function(){0===n.length?V():m(n)}),[]),(0,i.useEffect)((function(){if(n.length>0){var e,t=(0,s.Z)(n),r=new RegExp(z,"i");""!==z&&(t=t.filter((function(e){return r.test(e.firstName)||r.test(e.lastName)||r.test(e.email)||r.test(e.mobile)||r.test(e.pincode)}))),e="fullName"===M.field||"email"===M.field?t.sort((function(e,n){var t=e[M.field].toLowerCase(),s=n[M.field].toLowerCase();return t<s?-1:t>s?1:0})):t.sort((function(e,n){return e[M.field]-n[M.field]})),m(M.asc?e:e.reverse())}}),[M,n,z]);var V=function(){g(!0),C(!1),fetch("/user/get-users",{headers:{Authorization:"Bearer "+e}}).then((function(e){return e.json()})).then((function(e){if(!e.success)return g(!1),C(!0);(0,Z.W)(c.d.setUsers(e.payload)),m(e.payload),g(!1)})).catch((function(e){return g(!1),C(!0)}))};return(0,H.jsxs)(i.Fragment,{children:[(0,H.jsxs)(l.ZP,{container:!0,rowSpacing:4.5,columnSpacing:2.75,children:[(0,H.jsx)(l.ZP,{item:!0,xs:12,sx:{mb:-2.25},children:(0,H.jsxs)("div",{className:h.Z.listsHead,children:[(0,H.jsx)(o.Z,{variant:"h4",children:"All Users"}),(0,H.jsx)(u.Z,{sx:{color:"success.main",bgcolor:"success.lighter"},onClick:V,children:(0,H.jsx)(f.Z,{})})]})}),(0,H.jsx)(l.ZP,{item:!0,xs:12,sx:{mb:-2.25,mt:2},children:_?(0,H.jsx)(d.Z,{color:"inherit"}):n.length>0&&(0,H.jsx)(q,{requestSort:function(e,n){U({field:e,asc:n})},asc:M.asc,field:M.field,list:j,search:z,setSearch:A,viewData:function(e){T(e),y(!0)}})})]}),null!==L&&(0,H.jsx)(B,{open:I,handleClose:function(){return y(!1)},data:L})]})}},30055:function(e,n,t){t.d(n,{Z:function(){return l}});var s=t(1413),r=t(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M448 224a64 64 0 10128 0 64 64 0 10-128 0zm96 168h-64c-4.4 0-8 3.6-8 8v464c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V400c0-4.4-3.6-8-8-8z"}}]},name:"info",theme:"outlined"},a=t(60810),c=function(e,n){return r.createElement(a.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:n,icon:i}))};c.displayName="InfoOutlined";var l=r.forwardRef(c)},51515:function(e,n,t){t.d(n,{Z:function(){return l}});var s=t(1413),r=t(47313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},a=t(60810),c=function(e,n){return r.createElement(a.Z,(0,s.Z)((0,s.Z)({},e),{},{ref:n,icon:i}))};c.displayName="ReloadOutlined";var l=r.forwardRef(c)},70633:function(e,n){n.Z={listsHead:"pincodes_listsHead__+nl4a",addArea:"pincodes_addArea__YE0uc",stackInput:"pincodes_stackInput__zlTqi",searchDiv:"pincodes_searchDiv__OUxLq",basicInputs:"pincodes_basicInputs__rWuLD",addSize:"pincodes_addSize__E8Ygf",sizeBtn:"pincodes_sizeBtn__QrIRX",addressHolder:"pincodes_addressHolder__H5Ao2",address:"pincodes_address__QquYj",infoDiv:"pincodes_infoDiv__BNbPP",straight:"pincodes_straight__mjndl"}}}]);